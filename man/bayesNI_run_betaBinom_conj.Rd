% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bayesNI-conj-run.R
\name{bayesNI_run_betaBinom_conj}
\alias{bayesNI_run_betaBinom_conj}
\title{Run a full Bayesian NI analysis (Beta–Binomial, conjugate)}
\usage{
bayesNI_run_betaBinom_conj(
  alpha = 0.1,
  p_c = 0.85,
  p_t = 0.85,
  n_c = 29,
  n_t = 29,
  NI_margin = -0.2,
  prior = c("flat", "power"),
  prior_args = list(),
  B_cal = 2000,
  B_power = 1000,
  n_draws = 2000,
  tol = 0.002,
  seed = 123,
  show_progress = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{alpha}{Target Type-I error rate (numeric in \verb{(0,1)}).}

\item{p_c, p_t}{True response probabilities in control and treatment (numeric in \verb{[0,1]}).}

\item{n_c, n_t}{Sample sizes in control and treatment arms (integers).}

\item{NI_margin}{Non-inferiority margin on the risk-difference scale (numeric).}

\item{prior}{Character. Either \code{"flat"} (Beta(1,1) both arms) or \code{"power"}
(power prior on control); see \code{prior_args}.}

\item{prior_args}{List of hyperparameters when \code{prior = "power"}:
\itemize{
\item \code{a0}: discount factor in \verb{[0,1]}
\item \code{y_0}, \code{n_0}: historical control responders and sample size
\item \code{a_base}, \code{b_base}: baseline Beta parameters (defaults \code{1}, \code{1})
}}

\item{B_cal}{Number of simulated trials for calibration of \code{gamma}.}

\item{B_power}{Number of simulated trials for power estimation.}

\item{n_draws}{Posterior Monte Carlo draws per trial for evaluating \code{Pr(NI)}.}

\item{tol}{Absolute tolerance for calibration convergence.}

\item{seed}{RNG seed for reproducibility.}

\item{show_progress}{Logical. Show text progress bars during simulation.}

\item{verbose}{Logical. Print iteration messages during calibration.}
}
\value{
An object of class \code{"bayesNI"} with components:
\itemize{
\item \code{calibration}: list from \code{\link[=bayesNI_calibrate_betaBinom_conj]{bayesNI_calibrate_betaBinom_conj()}}
\item \code{power}: estimated Bayesian power at calibrated \code{gamma}
\item \code{settings}: list of all input parameters (echoed)
}
}
\description{
Calibrates the posterior cutoff \eqn{\gamma} to control Type-I error at a target
\code{alpha}, and then estimates the corresponding Bayesian power for given trial
parameters. Uses conjugate Beta–Binomial updates (no MCMC).
}
\examples{
\donttest{
res <- bayesNI_run_betaBinom_conj(
  alpha = 0.10, p_c = .85, p_t = .85,
  n_c = 29, n_t = 29, NI_margin = -0.20,
  prior = "flat", B_cal = 1000, B_power = 500
)
res$calibration$gamma
res$power
}

}
\seealso{
\code{\link[=bayesNI_calibrate_betaBinom_conj]{bayesNI_calibrate_betaBinom_conj()}},
\code{\link[=bayesNI_power_betaBinom_conj]{bayesNI_power_betaBinom_conj()}},
\code{\link[=bayesNI_type1_betaBinom_conj]{bayesNI_type1_betaBinom_conj()}}

Other conjugate-NI: 
\code{\link{bayesNI_calibrate_betaBinom_conj}()},
\code{\link{bayesNI_power_betaBinom_conj}()},
\code{\link{bayesNI_type1_betaBinom_conj}()}
}
\concept{conjugate-NI}
